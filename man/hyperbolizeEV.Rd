% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hyperbolizeEV.R
\name{hyperbolizeEV}
\alias{hyperbolizeEV}
\title{Hyperbolic cluster mapping with multiple anchors}
\usage{
hyperbolizeEV(
  D,
  numk,
  preprocess,
  scale = c("std", "norm"),
  local_model = "kmeansWrap",
  kg_per_class = 5,
  lambda = 1e-06,
  spread_scale = 1,
  use_input_order = F
)
}
\arguments{
\item{D}{Numeric matrix, with observations in rows and variables in columns.}

\item{numk}{Integer. Number of clusters.}

\item{preprocess}{Either a character string specifying the clustering method
(\code{"kmeansWrap"}, \code{"kmeans"}, \code{"kmedians"},
\code{"hddc"}, \code{"pgmm"}), or directly a clustering result / label vector:}

\item{scale}{Character. Scaling choice for the data:
\itemize{
  \item \code{"std"}: standardize using \code{scale(D)}.
  \item \code{"norm"}: center and rescale to a fixed average norm (paper sec 3.2).
}}

\item{local_model}{Character. Clustering model used to define local
sub-centers within each global cluster (e.g. \code{"kmeansWrap"}).}

\item{kg_per_class}{Integer. Number of local sub-centers per cluster.}

\item{lambda}{Numeric. Ridge parameter used in the local projection step.}

\item{spread_scale}{Numeric. Controls how far local sub-centers are spread
from the global centroid in the tangent plane (corresponds to \eqn{\delta}
in the paper).}

\item{use_input_order}{Logical. If \code{FALSE} (default), cluster centers are
reordered using \code{order_clusters_tsp}. If \code{TRUE}, the input cluster order is kept.}
}
\value{
A list with components:
\describe{
  \item{points}{\code{n × 2} matrix. Final 2D hyperbolic embedding of all samples.}
  \item{centers}{\code{numk × 2} matrix. 2D positions of cluster centroids.}
  \item{cluster}{Integer vector of length \code{n}. Cluster label of each sample.}
  \item{analysis}{Model fit object returned by the chosen clustering method
   , or \code{NULL} if cluster labels were supplied directly.}
  \item{local_info}{List of length \code{numk}. For each global cluster \eqn{g}
    it contains local mapping objects: indices of observations, centroid in
    original space and tangent space, fitted local sub-centers, their 2D
    coordinates, and both tangent-plane and disk embeddings of samples.}
  \item{params}{List of the main tuning parameters used in the call.}
}
}
\description{
This function takes a data matrix, maps both cluster centers and observations into the
2D hyperbolic disk based on given cluster labels (the extended version in the paper).
}
\examples{
\dontrun{
## Iris demo
set.seed(42)
out <- hyperbolizeEV(
  iris[, 1:4],
  numk       = 3,
  preprocess = "kmeansWrap",
  scale      = "std"
)
plot_disk(out, 3)

## Yale faces demo (from PPCI)
if (!requireNamespace("PPCI", quietly = TRUE)) {
  message("Package 'PPCI' is not installed")
} else {
  set.seed(42)
  library(PPCI)
  out <- hyperbolizeEV(
    PPCI::yale$x,
    numk         = 10,
    preprocess   = PPCI::yale$c,
    scale        = "norm",
    local_model  = "kmeansWrap",
    kg_per_class = 10,
    spread_scale = 0.6
  )
  plot_disk(out, 10)
}
}

}
